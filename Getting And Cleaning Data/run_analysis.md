Run Data Analysis
==================
Anil Satram

12 September 2015


Read Train and Test Data into R
-------------------------------

```r
trainSubData <- data.table(read.table(file.path(filespath, "train", "subject_train.txt")))
testSubData  <- data.table(read.table(file.path(filespath, "test" , "subject_test.txt" )))
```

Read Train and Test Activity Data into R

```r
lableTrainActData <- data.table(read.table(file.path(filespath, "train", "Y_train.txt")))
labelTestActData  <- data.table(read.table(file.path(filespath, "test" , "Y_test.txt" )))
setTrainActData <- data.table(read.table(file.path(filespath, "train", "X_train.txt")))
setTestActData  <- data.table(read.table(file.path(filespath, "test" , "X_test.txt" )))
```


1 - Merges the training and the test sets to create one data set.
-------------------------------------------------------------


```r
sDat <- rbind(trainSubData, testSubData)
setnames(sDat, "V1", "subject")

aDat <- rbind(lableTrainActData, labelTestActData)
setnames(aDat, "V1", "activityNum")
dt <- rbind(setTrainActData, setTestActData)

subdt <- cbind(sDat, aDat)
dt <- cbind(subdt, dt)
setkey(dt, subject, activityNum)
head(dt, n=3)
```

```
##    subject activityNum        V1           V2          V3         V4
## 1:       1           1 0.2820216 -0.037696218 -0.13489730 -0.3282802
## 2:       1           1 0.2558408 -0.064550029 -0.09518634 -0.2292069
## 3:       1           1 0.2548672  0.003814723 -0.12365809 -0.2751579
##             V5         V6         V7           V8         V9       V10
## 1: -0.13715339 -0.1890859 -0.4048750 -0.176791410 -0.1994738 -0.154731
## 2:  0.01650608 -0.2603109 -0.2767641  0.009066466 -0.2873669 -0.154731
## 3:  0.01307987 -0.2843713 -0.3413411 -0.026013386 -0.3202720 -0.175559
##           V11        V12       V13       V14       V15        V16
## 1: -0.2037590 -0.1307524 0.1120702 0.1566914 0.4113770 -0.2154409
## 2: -0.1739831 -0.1566269 0.1120702 0.1227433 0.4113770 -0.1227357
## 3: -0.1568093 -0.1566269 0.2131711 0.1227433 0.4482884 -0.1619777
##           V17        V18        V19        V20        V21        V22
## 1: -0.7730649 -0.8547620 -0.7020233 -0.5452764 -0.4915179 -0.3412969
## 2: -0.7015888 -0.7961305 -0.7517358 -0.2776776 -0.2125918 -0.3868700
## 3: -0.7359010 -0.8007207 -0.7671751 -0.4345361 -0.3974883 -0.5287449
##          V23       V24         V25        V26       V27        V28
## 1: 0.4237059 0.2863511 -0.03200739 -0.5911740 0.6839838 -0.5577702
## 2: 0.3453174 0.2649552  0.10127681 -0.5406245 0.5697953 -0.3695162
## 3: 0.3084939 0.4832541 -0.03591263 -0.3582610 0.3778036 -0.2880192
##          V29        V30       V31         V32         V33        V34
## 1: 0.3486887 -0.3328242 0.3472536  0.02174880 -0.03717562 -0.3591377
## 2: 0.1710447 -0.2720796 0.3151567 -0.01870038  0.08526757 -0.2968884
## 3: 0.2368730 -0.2272916 0.2941445 -0.05633179  0.17081009 -0.1401112
##          V35         V36         V37        V38          V39       V40
## 1: 0.2969900 -0.15761929 -0.07460687 -0.1248457 -0.009271197 0.2470248
## 2: 0.3202996 -0.20420593 -0.08232241 -0.2121580 -0.060091435 0.2393510
## 3: 0.1423576  0.03769511 -0.27592469 -0.1877042 -0.079968280 0.2804703
##          V41        V42         V43        V44        V45        V46
## 1: 0.9453028 -0.2459414 -0.03216478 -0.9840476 -0.9289281 -0.9325598
## 2: 0.9411130 -0.2520352 -0.03288345 -0.9839625 -0.9174993 -0.9490782
## 3: 0.9463639 -0.2642781 -0.02557507 -0.9628101 -0.9561309 -0.9719092
##           V47        V48        V49       V50        V51         V52
## 1: -0.9865515 -0.9344423 -0.9397844 0.8800521 -0.2525641 -0.02416681
## 2: -0.9858119 -0.9144677 -0.9566974 0.8731721 -0.2525641 -0.03145156
## 3: -0.9630463 -0.9555084 -0.9740660 0.8847315 -0.2700623 -0.02742361
##          V53        V54         V55        V56       V57        V58
## 1: 0.9607483 -0.2481512 -0.04772735 -0.3171035 0.8519749 -0.8994883
## 2: 0.9534070 -0.2437221 -0.04772735 -0.3066914 0.8410625 -0.8939380
## 3: 0.9534070 -0.2441259 -0.03159370 -0.2828759 0.8547949 -0.8829351
##           V59        V60        V61        V62        V63 V64 V65
## 1: -0.9969733 -0.9941642 -0.9503559 -0.9498183 -1.0000000  -1  -1
## 2: -0.9969521 -0.9906877 -0.9098590 -0.9789689 -0.8169011  -1  -1
## 3: -0.9980403 -0.9613785 -0.9501215 -0.9793415 -0.8169011  -1  -1
##           V66       V67        V68       V69         V70       V71
## 1: -0.3147962 0.4071290 -0.4965020 0.5827632 -0.09975474 0.1292456
## 2: -0.3580472 0.4312523 -0.5018820 0.5698426 -0.06816157 0.1135356
## 3: -0.4627287 0.5336503 -0.6030382 0.6708438 -0.11856801 0.1444000
##           V72       V73        V74       V75        V76       V77
## 1: -0.2234887 0.3423937 -0.6067121 0.6225326 -0.6374106 0.6484641
## 2: -0.2263743 0.3639698 -0.4926848 0.5233593 -0.5523761 0.5769216
## 3: -0.2328042 0.3447593 -0.3294767 0.3535499 -0.3754528 0.3926932
##           V78        V79        V80        V81        V82        V83
## 1: -0.8734929  0.2394566 -0.5341518 -0.1564857 -0.1428530 -0.1130787
## 2:  0.4453173 -0.6006509 -0.6278434 -0.2075541  0.3578428 -0.4524009
## 3:  0.4124804  0.3202670  0.2522418  0.2016045  0.4170823  0.1390782
##           V84         V85        V86         V87         V88        V89
## 1: -0.1837594 -0.17046131 -0.6138299 -0.21030703 -0.14038799 -0.5930221
## 2: -0.1083503 -0.01869285 -0.5475588 -0.02826357  0.06700291 -0.5062342
## 3: -0.1776946 -0.02960064 -0.5795071 -0.10980768  0.02730627 -0.5520512
##           V90        V91        V92        V93       V94       V95
## 1: -0.3694271 -0.5469256 -0.8098964 0.09633736 0.3980510 0.4727954
## 2: -0.3694271 -0.4729691 -0.7639037 0.12486519 0.3047542 0.4667948
## 3: -0.3554483 -0.4729691 -0.7636397 0.08141834 0.3047542 0.4667948
##           V96        V97        V98        V99        V100        V101
## 1: -0.2815952 -0.6640259 -0.6511818 -0.9208134 -0.31228308 -0.32083034
## 2: -0.1157296 -0.5995911 -0.5133363 -0.8921929  0.05246836 -0.02444375
## 3: -0.1751597 -0.6591837 -0.5238466 -0.9066578 -0.03927422 -0.12021973
##          V102      V103      V104      V105       V106      V107
## 1: -0.6220923 0.5945923 0.6496706 0.5906189 -0.6213629 0.6497838
## 2: -0.4881153 0.7145785 0.6740979 0.5153513 -0.5079535 0.4562026
## 3: -0.5325208 0.7130083 0.6957821 0.5624351 -0.3447333 0.3045625
##           V108        V109       V110      V111        V112      V113
## 1: -0.27013452  0.06932376 -0.4406701 0.3477687  0.05283899 0.3529306
## 2: -0.01340927 -0.05418772 -0.3916082 0.3539422  0.01045634 0.3706640
## 3:  0.00926293 -0.08710903 -0.3866351 0.3811522 -0.10764818 0.4375742
##          V114       V115        V116       V117       V118       V119
## 1: -0.2190789 0.14834520 -0.04410989 -0.1237183 -0.3670919 -0.1922834
## 2: -0.2986287 0.23968614 -0.01308776 -0.1484454 -0.3013451 -0.2698609
## 3: -0.1029955 0.06364626  0.23508564 -0.2799757 -0.2215722 -0.2798387
##         V120        V121        V122       V123       V124        V125
## 1: 0.5047315 -0.47972952  0.08203403 0.25644309 -0.3235458 -0.14193972
## 2: 0.4561185  0.09409148 -0.30915291 0.08644117 -0.3992529 -0.08841570
## 3: 0.4701351  0.21120057 -0.27290542 0.10198601 -0.4454378 -0.06308333
##          V126       V127        V128       V129       V130       V131
## 1: -0.4565980 -0.2976652 -0.15248477 -0.4810258 -0.4983419 -0.4090056
## 2: -0.4021575 -0.4385878 -0.10654400 -0.4210537 -0.3990421 -0.4475248
## 3: -0.3470558 -0.4613944 -0.06307482 -0.3584723 -0.3990421 -0.4340892
##          V132      V133      V134      V135        V136       V137
## 1: -0.2083964 0.2685510 0.4538886 0.4399589 -0.04072726 -0.6602420
## 2: -0.2083964 0.2928150 0.4538886 0.4208331 -0.13174962 -0.8257512
## 3: -0.1782762 0.4480932 0.4155219 0.2838617 -0.07139599 -0.8229525
##          V138       V139       V140        V141       V142       V143
## 1: -0.6325089 -0.8512909 -0.2067180 -0.24496193 -0.5691185 -0.3280557
## 2: -0.5806440 -0.8337639 -0.4836217 -0.08062232 -0.5097249  0.4764676
## 3: -0.5603150 -0.8018637 -0.4431876 -0.06460058 -0.4637733  0.6302071
##            V144      V145       V146      V147        V148       V149
## 1: -0.003926821 0.5048255 -0.7594384 0.5979921 -0.05052338 -0.2745433
## 2: -0.040184969 0.3280295 -0.5321860 0.3624195  0.26138996 -0.4272516
## 3: -0.011640399 0.3412903 -0.4508964 0.2769666  0.33075916 -0.4455871
##          V150      V151       V152      V153        V154       V155
## 1: -0.5151808 0.5106382 -0.3757239 0.2023513 -0.02242384 0.15837001
## 2: -0.4651138 0.4617119 -0.3881777 0.3026608  0.03132240 0.09935118
## 3: -0.2609378 0.2465925 -0.2013150 0.2631260 -0.02363228 0.13533303
##          V156      V157       V158       V159       V160        V161
## 1: -0.3071417 0.5045310 -0.2478582 -0.1744887 0.03206304  0.09424803
## 2: -0.2110733 0.4632182 -0.2051195  0.1234335 0.14632584  0.16674262
## 3: -0.2385517 0.4786467 -0.1513466  0.1610327 0.16578968 -0.16322550
##            V162        V163       V164       V165       V166       V167
## 1: -0.476210050 -0.14213364 -0.3457161 -0.4867495 -0.4215080 -0.3681565
## 2: -0.033796125 -0.08926024 -0.2498919 -0.4537442 -0.3698131 -0.2471715
## 3: -0.005560408 -0.23155479 -0.2642317 -0.4246765 -0.3425422 -0.2605290
##          V168       V169       V170       V171       V172     V173
## 1: -0.5462025 -0.4323183 -0.3276692 -0.5214650 -0.4260909 0.302258
## 2: -0.4897975 -0.3779810 -0.3276692 -0.4781494 -0.4260909 0.302258
## 3: -0.4638364 -0.3572515 -0.4408022 -0.4396999 -0.4569066 0.389823
##         V174      V175       V176       V177       V178       V179
## 1: 0.5156417 0.4675918 -0.4698030 -0.7840024 -0.8670645 -0.8302985
## 2: 0.5601539 0.4675918 -0.3958845 -0.7164229 -0.8498588 -0.7989612
## 3: 0.5366451 0.4204669 -0.3830270 -0.7274464 -0.8335275 -0.7812541
##          V180       V181       V182      V183      V184      V185
## 1: -0.4420246 -0.6437845 -0.4608486 0.7434252 0.6355315 0.5484978
## 2: -0.2856669 -0.5711718 -0.3799361 0.7195744 0.5604201 0.6090884
## 3: -0.2961559 -0.4946297 -0.4064064 0.7942345 0.5017122 0.6849502
##          V186       V187       V188      V189       V190      V191
## 1: -0.5182132 0.45475843 -0.2839352 0.5563338 -0.4731003 0.5454278
## 2: -0.3185900 0.09837845  0.2561622 0.2488857 -0.4148182 0.4206401
## 3: -0.2405854 0.03992996  0.3372840 0.1906036 -0.2172205 0.2525754
##           V192        V193        V194      V195        V196      V197
## 1: -0.19943444  0.04483689  0.03287474 0.2300553 -0.05134822 0.1728138
## 2: -0.08784315 -0.04195984 -0.01641974 0.2543208 -0.16077711 0.2090887
## 3:  0.01200456 -0.04047139 -0.07663719 0.2472529 -0.17361713 0.1587563
##         V198        V199        V200       V201       V202       V203
## 1: 0.4505527 -0.13838474 -0.21659998 -0.2245596 -0.2379807 -0.2904589
## 2: 0.4423822 -0.08455025 -0.09086678 -0.1265027 -0.2133903 -0.2660520
## 3: 0.5641375 -0.05434306  0.03061959 -0.1601000 -0.2575711 -0.3212250
##          V204       V205       V206       V207       V208      V209
## 1: -0.2327485 -0.6833015 -0.2245596 -0.6716960 -0.3021212 0.8017919
## 2: -0.2327485 -0.7392301 -0.1265027 -0.5991428 -0.2530618 0.8740306
## 3: -0.3219190 -0.7392301 -0.1601000 -0.6315176 -0.3899589 0.8575580
##          V210        V211         V212      V213       V214       V215
## 1: 0.07163385 -0.08839885 -0.102995190 0.2954389 -0.2245596 -0.2379807
## 2: 0.04610077 -0.09074216  0.007152292 0.1819491 -0.1265027 -0.2133903
## 3: 0.13941592 -0.20138038  0.103746690 0.1712587 -0.1601000 -0.2575711
##          V216       V217       V218       V219       V220       V221
## 1: -0.2904589 -0.2327485 -0.6833015 -0.2245596 -0.6716960 -0.3021212
## 2: -0.2660520 -0.2327485 -0.7392301 -0.1265027 -0.5991428 -0.2530618
## 3: -0.3212250 -0.3219190 -0.7392301 -0.1601000 -0.6315176 -0.3899589
##         V222       V223        V224         V225      V226       V227
## 1: 0.8017919 0.07163385 -0.08839885 -0.102995190 0.2954389 -0.2894243
## 2: 0.8740306 0.04610077 -0.09074216  0.007152292 0.1819491 -0.1385012
## 3: 0.8575580 0.13941592 -0.20138038  0.103746690 0.1712587 -0.1943548
##          V228       V229       V230        V231       V232       V233
## 1: -0.1650001 -0.1853345 -0.2540173 -0.76297347 -0.2894243 -0.7076458
## 2: -0.1985903 -0.2251987 -0.2540173  0.06695507 -0.1385012 -0.6281619
## 3: -0.2199436 -0.2743870 -0.1777156  0.06695507 -0.1943548 -0.6673352
##          V234      V235        V236        V237       V238      V239
## 1: -0.2862176 0.7689120 -0.00244376  0.11374206 -0.6479730 0.4962581
## 2: -0.3670773 0.7602922  0.08494360 -0.08744593 -0.6341925 0.6309566
## 3: -0.4224505 0.6888430  0.25116497 -0.26612007 -0.4060209 0.4241485
##           V240       V241        V242       V243       V244        V245
## 1: -0.03439560 -0.1681863 -0.06241925 -0.3825953 -0.4867423 -0.03439560
## 2: -0.14093823 -0.2160552 -0.08125617 -0.4198984 -0.5652038 -0.14093823
## 3: -0.09459356 -0.2908474 -0.18957685 -0.4600837 -0.6852723 -0.09459356
##          V246        V247      V248      V249       V250       V251
## 1: -0.5135152 -0.10104190 0.1370339 0.1102777 -0.2117743 0.29442453
## 2: -0.6059295  0.05285632 0.2670176 0.1692098 -0.1918631 0.20354516
## 3: -0.5855884 -0.16228767 0.2720853 0.2377205 -0.2385411 0.01616224
##           V252       V253       V254       V255       V256       V257
## 1: -0.26244415 -0.4661497 -0.4336540 -0.4757336 -0.4683382 -0.5994419
## 2: -0.25638916 -0.3899198 -0.4389841 -0.4825932 -0.4874900 -0.7648479
## 3:  0.08457054 -0.3741507 -0.4180319 -0.4826810 -0.4465395 -0.7648479
##          V258       V259       V260      V261        V262       V263
## 1: -0.4661497 -0.8443428 -0.5398614 0.8924754 -0.05290990  0.1160253
## 2: -0.3899198 -0.8146959 -0.4478020 0.8340848  0.08112173  0.0294798
## 3: -0.3741507 -0.8037966 -0.5184353 0.8782370  0.25109950 -0.1231237
##            V264        V265       V266        V267       V268       V269
## 1: -0.176827620 -0.09655491 -0.2609049 -0.12256680 -0.3312160 -0.3567070
## 2: -0.003504281 -0.33383651 -0.1511153 -0.02904997 -0.2573071 -0.2621973
## 3:  0.101376320 -0.40376449 -0.2304074  0.02542685 -0.3773113 -0.2935223
##           V270       V271        V272         V273       V274       V275
## 1: -0.19956719 -0.1777802 -0.18577076 -0.079726841 -0.2417728 -0.5973523
## 2: -0.02385785 -0.3221639 -0.09383386  0.024516981 -0.3191807 -0.4706854
## 3: -0.05769317 -0.2900854 -0.18726899  0.007705041 -0.3091675 -0.4241677
##          V276       V277       V278       V279       V280        V281
## 1: -0.5632451 -0.1511484 -0.8116769 -0.8946613 -0.7820919 -0.13011955
## 2: -0.3961592 -0.3877801 -0.6417678 -0.9123993 -0.3217408 -0.02032718
## 3: -0.3798027 -0.3741621 -0.8578699 -0.6429820 -0.7249421 -0.08477721
##          V282       V283       V284        V285       V286       V287
## 1: -0.7724820 -0.6228087 -0.6632056 -0.36293521 -0.2194872 -0.5662544
## 2: -0.7009125 -0.4783220 -0.7186509 -0.01216935 -0.2030393 -0.5255647
## 3: -0.7353277 -0.4817651 -0.7363159 -0.18770724 -0.3722007 -0.5842555
##         V288      V289      V290       V291       V292       V293
## 1: 0.5389055 0.5287203 0.2097713 -0.8064516 -0.8000000 -0.9230769
## 2: 0.5732362 0.5878433 0.3809522 -0.7419355 -0.2666667 -0.9230769
## 3: 0.6815607 0.4592587 0.2990886 -0.7419355 -0.7333333 -0.9230769
##          V294       V295         V296       V297       V298       V299
## 1: -0.2403483 0.02122042 -0.126705200 -0.4410753 -0.8404735 -0.5698173
## 2: -0.2838784 0.07173467  0.278242520 -0.3454942 -0.7531415 -0.4139531
## 3: -0.3321629 0.22449585 -0.007875473 -0.2080633 -0.6055889 -0.4699573
##          V300       V301       V302       V303       V304       V305
## 1: -0.8916822 -0.1150675 -0.4152957 -0.8437500 -0.7099061 -0.5338084
## 2: -0.7866135 -0.3681350 -0.6807255 -0.7558351 -0.6936381 -0.5080147
## 3: -0.8234756 -0.3176863 -0.6530980 -0.7558031 -0.7961180 -0.6576625
##          V306       V307       V308       V309       V310       V311
## 1: -0.8019596 -0.8511504 -0.9357027 -0.9522212 -0.9607143 -0.7898332
## 2: -0.6952928 -0.9281905 -0.8339018 -0.9292045 -0.9507669 -0.7148487
## 3: -0.5850159 -0.8480305 -0.9137599 -0.9163264 -0.9967242 -0.7449965
##          V312       V313       V314       V315       V316       V317
## 1: -0.5408607 -0.8828594 -0.9550679 -0.7716374 -0.8022922 -0.8170078
## 2: -0.4868863 -0.8928602 -0.9364316 -0.7001491 -0.7309597 -0.7561811
## 3: -0.5823761 -0.8726836 -0.9432737 -0.7387906 -0.6425343 -0.7193030
##          V318       V319       V320       V321       V322       V323
## 1: -0.5765579 -0.7131384 -0.9020238 -0.8892989 -0.9330547 -0.8737462
## 2: -0.3530263 -0.7721780 -0.7560142 -0.7626055 -0.8840621 -0.7832220
## 3: -0.4888796 -0.6128332 -0.6766509 -0.7393686 -0.7739103 -0.7015348
##          V324       V325       V326       V327       V328       V329
## 1: -0.9358620 -0.6419561 -0.6944959 -0.8934253 -0.8958596 -0.6221936
## 2: -0.9211320 -0.4803501 -0.7093414 -0.7820158 -0.8343828 -0.4849175
## 3: -0.7323007 -0.5219835 -0.5324281 -0.7227667 -0.7048196 -0.4948605
##          V330       V331       V332       V333       V334       V335
## 1: -0.8943811 -0.6225738 -0.9145649 -0.9179145 -0.9461661 -0.9805739
## 2: -0.7517000 -0.7401235 -0.8822496 -0.8449161 -0.9186303 -0.9022499
## 3: -0.6745526 -0.7321170 -0.9175940 -0.8681826 -0.9422009 -0.9639293
##          V336       V337       V338       V339       V340       V341
## 1: -0.8853018 -0.8328352 -0.7877352 -0.6707639 -0.9281810 -0.9544587
## 2: -0.7778262 -0.7297035 -0.4763450 -0.7543141 -0.8716507 -0.8629933
## 3: -0.9123106 -0.8941374 -0.8585759 -0.7593106 -0.8950278 -0.9479881
##          V342       V343       V344       V345       V346       V347
## 1: -0.8178990 -0.6654830 -0.9485471 -0.2104645 -0.2635281 -0.5357091
## 2: -0.6514461 -0.7308822 -0.9027810 -0.1783384 -0.1208388 -0.4989475
## 3: -0.8825829 -0.7405347 -0.9438674 -0.1926535 -0.1096107 -0.5256478
##          V348         V349       V350        V351        V352       V353
## 1: -0.2282532 -0.124274450 -0.6984362 -0.01110260 -0.14073745 -0.6587272
## 2: -0.1140450  0.027847600 -0.5945946  0.04856090 -0.05468683 -0.5724373
## 3: -0.2358945 -0.005815575 -0.6328668 -0.07323844 -0.02856216 -0.5870937
##          V354        V355       V356       V357       V358       V359
## 1: -0.4493535 -0.20964068 -0.7148545 -0.6816034 -0.7141968 -0.8320226
## 2: -0.2563549 -0.01636676 -0.5751678 -0.3896741 -0.7209724 -0.5503050
## 3: -0.3384153 -0.28105119 -0.6737516 -0.8537651 -0.9911165 -0.3403547
##          V360       V361       V362       V363        V364       V365
## 1: -0.2106369 -0.6635667 -0.6512689 -0.9207418 -0.02058849 -0.4102714
## 2: -0.1341790 -0.5990871 -0.5136816 -0.8924490 -0.33713790 -0.3786816
## 3: -0.1474289 -0.6585820 -0.5243769 -0.9066479 -0.11566362 -0.3654816
##          V366      V367      V368      V369  V370 V371  V372       V373
## 1: -0.6450997 0.6651367 0.5637287 0.1315216 -0.32 -0.4 -0.32 -0.3525544
## 2: -0.6030321 0.5227795 0.5421322 0.2943964 -0.48 -0.4 -0.20 -0.2890059
## 3: -0.6010760 0.6676022 0.6352622 0.1964905 -0.48 -0.4 -0.20 -0.1344462
##          V374        V375       V376       V377       V378       V379
## 1: -0.5203710  0.05423699 -0.4128563 -0.8345626 -0.2201641 -0.7214924
## 2: -0.3168307 -0.18418296 -0.1367436 -0.6676560 -0.0165480 -0.5341110
## 3: -0.4819860 -0.04421427 -0.2531637 -0.6879705 -0.3075140 -0.8162819
##          V380       V381       V382       V383       V384       V385
## 1: -0.4651794 -0.8422007 -0.8510157 -0.6917314 -0.6150297 -0.7783350
## 2: -0.2670359 -0.6765774 -0.8036466 -0.6265507 -0.5706066 -0.6642190
## 3: -0.4436688 -0.8490434 -0.8148828 -0.7629799 -0.6822699 -0.5555636
##          V386       V387       V388       V389       V390       V391
## 1: -0.8153980 -0.9045190 -0.9363922 -0.9771978 -0.7358133 -0.5970189
## 2: -0.9075072 -0.8688826 -0.9026950 -0.9478925 -0.6728637 -0.5115765
## 3: -0.8390429 -0.8377226 -0.8241314 -0.9585321 -0.7653461 -0.5524011
##          V392       V393       V394       V395       V396       V397
## 1: -0.8367280 -0.9330855 -0.6407566 -0.7266430 -0.8495971 -0.6258181
## 2: -0.8839256 -0.8943062 -0.5733679 -0.6741129 -0.8248145 -0.4219907
## 3: -0.8251168 -0.8191602 -0.6902346 -0.5543759 -0.7632301 -0.5497918
##          V398       V399       V400       V401       V402       V403
## 1: -0.6504503 -0.9029509 -0.8905495 -0.8924096 -0.9423085 -0.9781566
## 2: -0.7219265 -0.6788534 -0.8541034 -0.7828069 -0.8493388 -0.8335236
## 3: -0.5948747 -0.6798289 -0.8260636 -0.7387300 -0.9113908 -0.9997218
##          V404       V405       V406       V407       V408       V409
## 1: -0.6252541 -0.6991824 -0.8650571 -0.9468348 -0.5735020 -0.8870414
## 2: -0.4345726 -0.6456838 -0.7885994 -0.8473474 -0.4662828 -0.7169212
## 3: -0.5359702 -0.5534325 -0.7469643 -0.9225379 -0.4840876 -0.7014619
##          V410       V411       V412       V413       V414       V415
## 1: -0.8213194 -0.9268195 -0.9218756 -0.9543635 -0.9825605 -0.9087330
## 2: -0.8146295 -0.9108706 -0.8633176 -0.9390303 -0.9594975 -0.9053495
## 3: -0.8760733 -0.9262144 -0.8787063 -0.9401698 -0.9697618 -0.9134329
##          V416       V417       V418       V419       V420       V421
## 1: -0.8237071 -0.3286328 -0.8739732 -0.9377885 -0.9590859 -0.7558354
## 2: -0.9152942 -0.8305157 -0.8579512 -0.9003638 -0.9404256 -0.9002162
## 3: -0.8914641 -0.7359298 -0.8928967 -0.9087857 -0.9507185 -0.8667723
##          V422       V423       V424       V425       V426       V427
## 1: -0.8906256 -0.9562443 -0.1847807 -0.1980244 -0.3075584 -0.3680772
## 2: -0.8433923 -0.9396038 -0.2045095 -0.2458314 -0.3111780 -0.4613169
## 3: -0.8694321 -0.9443394 -0.3170815 -0.2081588 -0.1857984 -0.4863059
##            V428       V429       V430       V431       V432       V433
## 1: -0.115047260 -0.5653109 -0.1294706 -0.1725633 -0.4132427 -0.3895904
## 2: -0.009837662 -0.4898550 -0.2925320 -0.2082837 -0.3710055 -0.5490495
## 3:  0.009726873 -0.4693567 -0.3128108 -0.2121722 -0.3853271 -0.5278596
##          V434       V435       V436       V437       V438       V439
## 1: -0.1469759 -0.7309785 -0.9475466 -0.8023070 -0.9846769 -0.1672646
## 2: -0.2020386 -0.5937640 -0.5317802 -0.8611904 -0.9678245 -0.1973055
## 3: -0.1488639 -0.5566675 -0.9979864 -0.9811567 -0.4364814 -0.1910878
##          V440       V441       V442       V443       V444       V445
## 1: -0.7703287 -0.6305734 -0.8505732 -0.1577622 -0.1572205 -0.2727761
## 2: -0.8187058 -0.5832140 -0.8194029 -0.5421735 -0.3746964 -0.3380535
## 3: -0.8454500 -0.5597972 -0.7848326 -0.2856614 -0.3588342 -0.3942890
##         V446      V447      V448       V449       V450       V451
## 1: 0.5113660 0.5209154 0.6441996 -1.0000000 -0.9354839 -0.5862069
## 2: 0.4959405 0.6885381 0.5872839 -0.2666667 -0.9354839 -0.5862069
## 3: 0.6003260 0.7343599 0.6450363 -0.9333333 -0.9354839 -0.5862069
##          V452       V453      V454       V455       V456        V457
## 1: -0.3309971 -0.2331578 0.0859322 -0.3282749 -0.6500642 -0.09095980
## 2:  0.1079345 -0.3065206 0.0877729 -0.3206744 -0.6893778 -0.03286966
## 3: -0.1798067 -0.2418280 0.2434422 -0.3408687 -0.6783349 -0.01391238
##          V458       V459       V460       V461       V462       V463
## 1: -0.4021667 -0.5630608 -0.8479733 -0.8321937 -0.5223844 -0.9026690
## 2: -0.4675197 -0.2843355 -0.5997809 -0.9037338 -0.4498935 -0.8229414
## 3: -0.4453862 -0.2111812 -0.5347926 -0.9232566 -0.5117466 -0.7835592
##          V464       V465       V466       V467       V468       V469
## 1: -0.9612094 -0.9560915 -0.9516971 -0.9657370 -0.9680081 -0.7722790
## 2: -0.9456303 -0.8479073 -0.8187094 -0.7778205 -0.8036046 -0.8290261
## 3: -0.9332055 -0.9650522 -0.9454056 -0.9589293 -0.9998844 -0.8564379
##          V470       V471       V472       V473       V474       V475
## 1: -0.9058879 -0.9498878 -0.9667419 -0.7708723 -0.9575185 -0.5672358
## 2: -0.8354034 -0.8207241 -0.7892296 -0.8222943 -0.9089810 -0.4026899
## 3: -0.7986573 -0.9535389 -0.9770513 -0.8470864 -0.9383465 -0.3806220
##          V476       V477       V478       V479       V480       V481
## 1: -0.9040146 -0.8480308 -0.9440041 -0.9754414 -0.9425768 -0.9178933
## 2: -0.9492592 -0.9080250 -0.9046179 -0.9659196 -0.9335242 -0.9687417
## 3: -0.9380522 -0.9111973 -0.8732956 -0.9458115 -0.8641118 -0.8929910
##          V482       V483       V484       V485       V486       V487
## 1: -0.8987908 -0.6461809 -0.8408698 -0.9684413 -0.8984405 -0.5984854
## 2: -0.9910100 -0.5648108 -0.8850822 -0.9589186 -0.9741372 -0.5517886
## 3: -0.9998735 -0.5426633 -0.8785715 -0.9284792 -0.9247436 -0.5327536
##          V488       V489       V490       V491       V492       V493
## 1: -0.9473267 -0.8987673 -0.9296205 -0.8603515 -0.9035637 -0.8100800
## 2: -0.9142529 -0.8719274 -0.9183863 -0.8655033 -0.8522365 -0.8769156
## 3: -0.8807784 -0.8363359 -0.9182979 -0.8698131 -0.8659585 -0.8262175
##          V494       V495       V496       V497       V498       V499
## 1: -0.9367914 -0.9539771 -0.9996840 -0.8801145 -0.8201533 -0.8435720
## 2: -0.8423601 -0.9668481 -0.9996914 -0.8508160 -0.8002198 -0.8671719
## 3: -0.7872550 -0.7961475 -0.8774772 -0.8169248 -0.8109721 -0.8151067
##          V500       V501       V502        V503       V504       V505
## 1: -0.9738491 -0.8619159 -0.8849515 -0.16681083 -0.3995829 -0.2374711
## 2: -0.9811275 -0.8334474 -0.8568723 -0.07927762 -0.4230300 -0.1993705
## 3: -0.8315071 -0.8002947 -0.8501821 -0.15631258 -0.4368583 -0.2462497
##          V506       V507        V508       V509       V510      V511
## 1: -0.6367484 -0.8283202 -0.16681083 -0.7048736 -0.3491391 0.6290586
## 2: -0.6639130 -0.8498660 -0.07927762 -0.6857528 -0.2026714 0.6384922
## 3: -0.6333448 -0.8420216 -0.15631258 -0.7196598 -0.2877056 0.5809567
##          V512       V513       V514       V515       V516       V517
## 1: -0.7931035 0.07110806 -0.5719846 -0.8476812 -0.1540448 -0.1846900
## 2: -0.2413793 0.17065849 -0.6962938 -0.9062524 -0.1784456 -0.2306563
## 3: -0.9310345 0.18660117 -0.6308745 -0.8682340 -0.1494380 -0.3212563
##           V518       V519       V520       V521       V522       V523
## 1: -0.08432681 -0.3717726 -0.8040812 -0.1540448 -0.6457574 -0.1736410
## 2: -0.14863222 -0.3286948 -0.7942696 -0.1784456 -0.6734369 -0.2305236
## 3: -0.19930757 -0.4386631 -0.5119639 -0.1494380 -0.6888975 -0.3246420
##         V524       V525       V526       V527       V528       V529
## 1: 0.4849260 -0.9047619 0.05448232 -0.2201054 -0.6327171 -0.2221760
## 2: 0.4382248 -0.8730159 0.19047898 -0.1437084 -0.5284259 -0.2682798
## 3: 0.4413723 -0.8730159 0.31075674 -0.3659599 -0.7101750 -0.3086707
##          V530       V531       V532       V533       V534       V535
## 1: -0.2736495 -0.2145986 -0.4599729 -0.4513668 -0.2221760 -0.6523037
## 2: -0.3146234 -0.3099584 -0.4290688 -0.8229965 -0.2682798 -0.6910795
## 3: -0.4014002 -0.3966660 -0.3879354 -0.7059717 -0.3086707 -0.7469317
##          V536      V537       V538         V539       V540       V541
## 1: -0.4316143 0.6178999 -0.8461538 -0.000469865 -0.4611297 -0.8161008
## 2: -0.3093163 0.5829869 -0.7948718  0.130224380 -0.2434548 -0.6249293
## 3: -0.4763219 0.6432044 -0.7948718  0.200414800 -0.1890931 -0.5009533
##          V542       V543       V544       V545       V546       V547
## 1: -0.4318317 -0.4763701 -0.3865609 -0.5458954 -0.7854564 -0.4318317
## 2: -0.4281859 -0.4928844 -0.4529242 -0.5292179 -0.4177747 -0.4281859
## 3: -0.4010383 -0.4819242 -0.4090721 -0.5314852 -0.6191677 -0.4010383
##          V548       V549      V550       V551       V552       V553
## 1: -0.8384003 -0.3266494 0.5383088 -0.9047619 -0.1516418 -0.3121369
## 2: -0.8411587 -0.4681229 0.4716551 -0.8730159  0.1737093 -0.1766254
## 3: -0.8290308 -0.3694289 0.5670434 -0.8730159  0.2443055 -0.3654166
##          V554        V555       V556       V557       V558       V559
## 1: -0.6739506 -0.16088312  0.5647363  0.9124732 -0.4128361 -0.7737066
## 2: -0.5842835 -0.02197686  0.5066094 -0.7000530 -0.8409429 -0.7671632
## 3: -0.6962008  0.37204103 -0.1061836 -0.9238353  0.3444592 -0.7574139
##         V560       V561
## 1: 0.2524321 0.04409874
## 2: 0.2569188 0.04463760
## 3: 0.2644517 0.03941682
```

2 - Extracts only the measurements on the mean and standard deviation for each measurement.
---------------------------------------------------------------------------------------


```r
dtFeatures <- data.table(read.table(file.path(filespath, "features.txt")))
setnames(dtFeatures, names(dtFeatures), c("featureNum", "featureName"))

dtFeatures <- dtFeatures[grepl("mean\\(\\)|std\\(\\)", featureName)]
dtFeatures$featureCode <- dtFeatures[, paste0("V", featureNum)]
head(dtFeatures)
```

```
##    featureNum       featureName featureCode
## 1:          1 tBodyAcc-mean()-X          V1
## 2:          2 tBodyAcc-mean()-Y          V2
## 3:          3 tBodyAcc-mean()-Z          V3
## 4:          4  tBodyAcc-std()-X          V4
## 5:          5  tBodyAcc-std()-Y          V5
## 6:          6  tBodyAcc-std()-Z          V6
```

```r
dtFeatures$featureCode
```

```
##  [1] "V1"   "V2"   "V3"   "V4"   "V5"   "V6"   "V41"  "V42"  "V43"  "V44" 
## [11] "V45"  "V46"  "V81"  "V82"  "V83"  "V84"  "V85"  "V86"  "V121" "V122"
## [21] "V123" "V124" "V125" "V126" "V161" "V162" "V163" "V164" "V165" "V166"
## [31] "V201" "V202" "V214" "V215" "V227" "V228" "V240" "V241" "V253" "V254"
## [41] "V266" "V267" "V268" "V269" "V270" "V271" "V345" "V346" "V347" "V348"
## [51] "V349" "V350" "V424" "V425" "V426" "V427" "V428" "V429" "V503" "V504"
## [61] "V516" "V517" "V529" "V530" "V542" "V543"
```

```r
select <- c(key(dt), dtFeatures$featureCode)
dt <- dt[, select, with=FALSE]
```

3 - Uses descriptive activity names to name the activities in the data set
---------------------------------------------------------------------------


```r
dtActNames <- data.table(read.table(file.path(filespath,"activity_labels.txt")))
setnames(dtActNames, names(dtActNames), c("activityNum", "activityName"))
```
4 - Appropriately labels the data set with descriptive variable names.
-----------------------------------------------------------------------


```r
dt <- merge(dt, dtActNames, by="activityNum", all.x=TRUE)
setkey(dt, subject, activityNum, activityName)
dt <- data.table(melt(dt, key(dt), variable.name="featureCode"))
dt$activity <- factor(dt$activityName)
dt <- merge(dt, dtFeatures[, list(featureNum, featureCode, featureName)], by="featureCode", all.x=TRUE)
dt$activity <- factor(dt$activityName)
dt$feature <- factor(dt$featureName)
```

Features with 1 category

```r
dt$featJerk <- factor(grepl("Jerk", dt$feature), labels=c(NA, "Jerk"))
dt$featMagnitude <- factor(grepl("Mag", dt$feature), labels=c(NA, "Magnitude"))
```

Features with 2 categories

```r
Y <- matrix(seq(1,2), nrow=2)
X <- matrix(c(grepl("^t", dt$feature), grepl("^f", dt$feature)), ncol=nrow(Y))
dt$featDomain <- factor(X %*% Y, labels=c("Time", "Freq"))

X <- matrix(c(grepl("Acc", dt$feature), grepl("Gyro", dt$feature)), ncol=nrow(Y))
dt$featInstrument <- factor(X %*% Y, labels=c("Accelerometer", "Gyroscope"))


X <- matrix(c(grepl("BodyAcc", dt$feature), grepl("GravityAcc", dt$feature)), ncol=nrow(Y))
dt$featAcceleration <- factor(X %*% Y, labels=c(NA, "Body", "Gravity"))


X <- matrix(c(grepl("mean()", dt$feature), grepl("std()", dt$feature)), ncol=nrow(Y))
dt$featVariable <- factor(X %*% Y, labels=c("Mean", "SD"))
```


Features with 3 categories

```r
Y <- matrix(seq(1,3), nrow=3)
X <- matrix(c(grepl("-X", dt$feature), grepl("-Y", dt$feature), grepl("-Z", dt$feature)), ncol=nrow(Y))
dt$featAxis <- factor(X %*% Y, labels=c(NA, "X", "Y", "Z"))
setkey(dt, subject, activity, featDomain, featAcceleration, featInstrument, featJerk, featMagnitude, featVariable, featAxis)
```
Tidy Data table
---------------

```r
tidyData<- dt[, list(count = .N, average = mean(value)), by=key(dt)]
```
Generate Codebook
-------------------

```r
knit("codebook.Rmd", encoding="ISO8859-1")
```

```
## 
## 
## processing file: codebook.Rmd
```

```
##   |                                                                         |                                                                 |   0%  |                                                                         |.....                                                            |   7%
##   ordinary text without R code
## 
##   |                                                                         |.........                                                        |  14%
## label: unnamed-chunk-12
##   |                                                                         |..............                                                   |  21%
##   ordinary text without R code
## 
##   |                                                                         |...................                                              |  29%
## label: unnamed-chunk-13
##   |                                                                         |.......................                                          |  36%
##   ordinary text without R code
## 
##   |                                                                         |............................                                     |  43%
## label: unnamed-chunk-14
##   |                                                                         |................................                                 |  50%
##   ordinary text without R code
## 
##   |                                                                         |.....................................                            |  57%
## label: unnamed-chunk-15
##   |                                                                         |..........................................                       |  64%
##   ordinary text without R code
## 
##   |                                                                         |..............................................                   |  71%
## label: unnamed-chunk-16
##   |                                                                         |...................................................              |  79%
##   ordinary text without R code
## 
##   |                                                                         |........................................................         |  86%
## label: unnamed-chunk-17
##   |                                                                         |............................................................     |  93%
##   ordinary text without R code
## 
##   |                                                                         |.................................................................| 100%
## label: unnamed-chunk-18
```

```
## output file: codebook.md
```

```
## [1] "codebook.md"
```




